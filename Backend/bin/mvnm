#!/usr/bin/env bash
set -e
DIR="$(cd "$(dirname "$0")"; pwd -P)"
JAVA_HOME="${JAVA_HOME:-}"
MAVEN_OPTS="${MAVEN_OPTS:-}"
if [ ! -f "$DIR/.mvn/wrapper/maven-wrapper.jar" ]; then
  mkdir -p "$DIR/.mvn/wrapper"
  curl -fsSL https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar -o "$DIR/.mvn/wrapper/maven-wrapper.jar"
fi
exec "${JAVA_HOME:+$JAVA_HOME/bin/}java" ${MAVEN_OPTS} -classpath "$DIR/.mvn/wrapper/maven-wrapper.jar" -Dmaven.multiModuleProjectDirectory="$DIR" io.takari.maven.wrapper.MavenWrapperMain "$@"